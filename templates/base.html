<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="csrf-token" content="{{ csrf_token() }}" />
  <title>EJM Santos</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v=3.0">

  <style>
    /* ======== MENU MOBILE ======== */
    .menu-toggle {
      display: none;
      flex-direction: column;
      cursor: pointer;
      gap: 4px;
    }

    .menu-toggle span {
      width: 25px;
      height: 3px;
      background: #333;
      border-radius: 2px;
    }

    @media (max-width: 768px) {
      nav.menu {
        display: none;
        position: fixed;
        top: 60px;
        right: 0;
        background: #fff;
        flex-direction: column;
        width: 250px;
        height: calc(100vh - 60px);
        border-left: 2px solid #ddd;
        box-shadow: -2px 0 10px rgba(0,0,0,0.2);
        z-index: 9999;
        overflow-y: auto;
      }

      nav.menu a {
        padding: 16px 20px;
        border-bottom: 1px solid #eee;
        font-size: 1.1rem;
        transition: background 0.2s;
      }

      nav.menu a:hover {
        background: #f0f0f0;
      }

      nav.menu.ativo {
        display: flex;
      }

      .menu-toggle {
        display: flex;
        z-index: 10000;
      }

      .botao-topo {
        display: none;
      }
      
      /* Overlay para fechar menu ao clicar fora */
      body.menu-aberto::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        z-index: 9998;
      }
    }
  </style>
</head>
<body>
  <header class="topo">
    <a class="logo" href="/">EJM SANTOS</a>

    <div class="menu-toggle" id="menu-toggle">
      <span></span><span></span><span></span>
    </div>

    <nav class="menu" id="menu">
      <a href="/produtos">Produtos</a>
      <a href="/sobre">Sobre NÃ³s</a>

      {% if session.get('user_id') %}
        <a href="/perfil" id="link-perfil">Perfil</a>
        <a href="/logout" id="link-sair">Sair</a>
      {% else %}
        <a href="/login" id="link-login">Entrar / Cadastrar</a>
      {% endif %}
    </nav>

    <a href="#produtos" class="botao-topo">PEÃ‡A AGORA</a>
  </header>

  <main id="main-content">
    {% block content %}{% endblock %}
  </main>

  <a href="https://wa.me/55XXXXXXXXXXX" class="whats-flutuante" target="_blank" title="Fale conosco no WhatsApp">
    ðŸ’¬
  </a>

  <footer class="footer-moderno">
    <div class="footer-conteudo">
      <div class="footer-secao">
        <h3>EJM Santos</h3>
        <p>Mel puro e natural, direto da colmeia para sua mesa.</p>
      </div>
      
      <div class="footer-secao">
        <h4>Links RÃ¡pidos</h4>
        <ul>
          <li><a href="/">InÃ­cio</a></li>
          <li><a href="/produtos">Produtos</a></li>
          <li><a href="/sobre">Sobre NÃ³s</a></li>
        </ul>
      </div>
      
      <div class="footer-secao">
        <h4>Contato</h4>
        <p>ðŸ“§ contato@ejmsantos.com</p>
        <p>ðŸ“± WhatsApp: (XX) XXXXX-XXXX</p>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>Â© 2025 EJM Santos. Todos os direitos reservados.</p>
    </div>
  </footer>

  <script>
    // Menu Mobile
    const toggle = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');
    const menuLinks = menu.querySelectorAll('a');
    
    // Abrir/fechar menu ao clicar no toggle
    toggle.addEventListener('click', () => {
      menu.classList.toggle('ativo');
      document.body.classList.toggle('menu-aberto');
    });
    
    // Fechar menu ao clicar em um link
    menuLinks.forEach(link => {
      link.addEventListener('click', () => {
        menu.classList.remove('ativo');
        document.body.classList.remove('menu-aberto');
      });
    });
    
    // Fechar menu ao clicar fora (no overlay)
    document.addEventListener('click', (e) => {
      if (menu.classList.contains('ativo') && 
          !menu.contains(e.target) && 
          !toggle.contains(e.target)) {
        menu.classList.remove('ativo');
        document.body.classList.remove('menu-aberto');
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</body>
</html>



